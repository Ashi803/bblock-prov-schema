
{"name": "Provenance Chain", "abstract": "Schema for a provenance chain based on PROV vocabulary semantics, Agents, Activities and Entities. This schema is designed as a mix-in that can be used to add properties to other objects in a polymorphic way.", "status": "under-development", "dateTimeAddition": "2023-07-10T00:00:00Z", "itemClass": "schema", "register": "ogc-utils", "version": "0.1", "dateOfLastChange": "2023-07-10", "sources": [{"link": "https://www.w3.org/TR/prov-o/", "title": "The PROV-O vocabulary"}], "maturity": "development", "scope": "unstable", "tags": ["prov", "utils"], "itemIdentifier": "ogc.ogc-utils.prov", "shaclRules": [], "schema": {"application/yaml": "https://raw.githubusercontent.com/ogcincubator/bblock-prov-schema/master/build/annotated/ogc-utils/prov/schema.yaml", "application/json": "https://raw.githubusercontent.com/ogcincubator/bblock-prov-schema/master/build/annotated/ogc-utils/prov/schema.json"}, "ldContext": "https://raw.githubusercontent.com/ogcincubator/bblock-prov-schema/master/build/annotated/ogc-utils/prov/context.jsonld", "sourceFiles": "https://raw.githubusercontent.com/ogcincubator/bblock-prov-schema/master/_sources/", "validationPassed": true, "testOutputs": "https://github.com/ogcincubator/bblock-prov-schema/blob/master/build/tests/ogc-utils/prov/", "description": "## Provenance chain\n\nA schema defining objects that may be referenced or nested as a chain of activities.\n\nThis schema implements the PROV vocabulary semantics.\n\n", "examples": [{"title": "Example Entities with Provenance Chains", "content": "See panel to right - note that a more user friendly \"collapsable\" version is in development. ", "snippets": [{"language": "json", "ref": "example.json", "base-uri": "http://www.example.com/exampleEntity/", "code": "{\n  \"@context\": {\n    \"@base\": \"https://example.org/\"\n  },\n  \"id\": \"DP-1\",\n  \"type\": \"Entity\",\n  \"wasGeneratedBy\": [\n    \"surveyreg-nz:DP-1-S1\",\n    {\n      \"type\": \"Activity\",\n      \"id\": \"surveyreg-nz:DP-1-S2\",\n      \"endedAtTime\": \"2029-01-01\",\n      \"wasAssociatedWith\": \"linz-registered-surveyors:bc-3\",\n      \"used\": {\n        \"type\": \"Entity\",\n        \"id\": \"Example-Act\",\n        \"wasAttributedTo\": \"icsm-jurisdictions:nz\",\n        \"links\": [\n          {\n            \"href\": \"https://some.gov/linktoact/Example1\",\n            \"rel\": \"related\"\n          }\n        ]\n      }\n    }\n  ],\n  \"provenance\": [\n    {\n      \"id\": \"DP-2223\",\n      \"type\": \"Entity\",\n      \"wasGeneratedBy\": \"surveyreg-nz:DP-1-S1\"\n    },\n    {\n      \"type\": \"Activity\",\n      \"id\": \"surveyreg-nz:DP-1-S1\",\n      \"endedAtTime\": \"2023-10-05\",\n      \"wasAssociatedWith\": \"linz-registered-surveyors:ah-2344503\",\n      \"used\": {\n        \"id\": \"Act3\",\n        \"type\": \"Entity\",\n        \"wasAttributedTo\": \"icsm-jurisdictions:nz\",\n        \"links\": [\n          {\n            \"href\": \"https://some.gov/linktoact/\",\n            \"rel\": \"related\"\n          }\n        ]\n      }\n    }\n  ]\n}\n\n\n\n"}, {"language": "jsonld", "code": "{\n  \"@context\": [\n    \"https://raw.githubusercontent.com/ogcincubator/bblock-prov-schema/master/build/annotated/ogc-utils/prov/context.jsonld\",\n    {\n      \"@base\": \"https://example.org/\"\n    }\n  ],\n  \"id\": \"DP-1\",\n  \"type\": \"Entity\",\n  \"wasGeneratedBy\": [\n    \"surveyreg-nz:DP-1-S1\",\n    {\n      \"type\": \"Activity\",\n      \"id\": \"surveyreg-nz:DP-1-S2\",\n      \"endedAtTime\": \"2029-01-01\",\n      \"wasAssociatedWith\": \"linz-registered-surveyors:bc-3\",\n      \"used\": {\n        \"type\": \"Entity\",\n        \"id\": \"Example-Act\",\n        \"wasAttributedTo\": \"icsm-jurisdictions:nz\",\n        \"links\": [\n          {\n            \"href\": \"https://some.gov/linktoact/Example1\",\n            \"rel\": \"related\"\n          }\n        ]\n      }\n    }\n  ],\n  \"provenance\": [\n    {\n      \"id\": \"DP-2223\",\n      \"type\": \"Entity\",\n      \"wasGeneratedBy\": \"surveyreg-nz:DP-1-S1\"\n    },\n    {\n      \"type\": \"Activity\",\n      \"id\": \"surveyreg-nz:DP-1-S1\",\n      \"endedAtTime\": \"2023-10-05\",\n      \"wasAssociatedWith\": \"linz-registered-surveyors:ah-2344503\",\n      \"used\": {\n        \"id\": \"Act3\",\n        \"type\": \"Entity\",\n        \"wasAttributedTo\": \"icsm-jurisdictions:nz\",\n        \"links\": [\n          {\n            \"href\": \"https://some.gov/linktoact/\",\n            \"rel\": \"related\"\n          }\n        ]\n      }\n    }\n  ]\n}"}, {"language": "ttl", "code": "@prefix prov: <http://www.w3.org/ns/prov#> .\n@prefix prov-x: <http://www.w3.org/ns/prov-x#> .\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\n@prefix surveyreg-nz: <https://surveys-nz/> .\n\n<https://example.org/DP-1> a prov:Entity ;\n    prov:wasGeneratedBy surveyreg-nz:DP-1-S1,\n        surveyreg-nz:DP-1-S2 ;\n    prov-x:provenance <https://example.org/DP-2223>,\n        surveyreg-nz:DP-1-S1 .\n\n<https://example.org/Act3> a prov:Entity ;\n    rdfs:seeAlso <https://some.gov/linktoact/> ;\n    prov:wasAttributedTo \"icsm-jurisdictions:nz\" .\n\n<https://example.org/DP-2223> a prov:Entity ;\n    prov:wasGeneratedBy surveyreg-nz:DP-1-S1 .\n\n<https://example.org/Example-Act> a prov:Entity ;\n    rdfs:seeAlso <https://some.gov/linktoact/Example1> ;\n    prov:wasAttributedTo \"icsm-jurisdictions:nz\" .\n\nsurveyreg-nz:DP-1-S2 a prov:Activity ;\n    prov:endedAtTime \"2029-01-01\" ;\n    prov:used <https://example.org/Example-Act> ;\n    prov:wasAssociatedWith <linz-registered-surveyors:bc-3> .\n\nsurveyreg-nz:DP-1-S1 a prov:Activity ;\n    prov:endedAtTime \"2023-10-05\" ;\n    prov:used <https://example.org/Act3> ;\n    prov:wasAssociatedWith <linz-registered-surveyors:ah-2344503> .\n\n"}]}, {"title": "Example Activity", "snippets": [{"language": "json", "ref": "examples/example-activity.json", "base-uri": "http://www.example.com/exampleActivity/", "schema-ref": "#/$defs/Activity", "code": "{\n  \"type\": \"Activity\",\n  \"id\": \"surveyreg-nz:DP-1-S2\",\n  \"endedAtTime\": \"2029-01-01\",\n  \"wasAssociatedWith\": \"linz-registered-surveyors:bc-3\",\n  \"used\": {\n    \"type\": \"Entity\",\n    \"id\": \"Act3\",\n    \"wasAttributedTo\": \"icsm-jurisdictions:nz\",\n    \"links\": [\n      {\n        \"href\": \"https://some.gov/linktoact/\",\n        \"rel\": \"related\"\n      }\n    ]\n  }\n}\n\n\n\n\n"}, {"language": "jsonld", "code": "{\n  \"type\": \"Activity\",\n  \"id\": \"surveyreg-nz:DP-1-S2\",\n  \"endedAtTime\": \"2029-01-01\",\n  \"wasAssociatedWith\": \"linz-registered-surveyors:bc-3\",\n  \"used\": {\n    \"type\": \"Entity\",\n    \"id\": \"Act3\",\n    \"wasAttributedTo\": \"icsm-jurisdictions:nz\",\n    \"links\": [\n      {\n        \"href\": \"https://some.gov/linktoact/\",\n        \"rel\": \"related\"\n      }\n    ]\n  },\n  \"@context\": \"https://raw.githubusercontent.com/ogcincubator/bblock-prov-schema/master/build/annotated/ogc-utils/prov/context.jsonld\"\n}"}, {"language": "ttl", "code": "@prefix prov: <http://www.w3.org/ns/prov#> .\n@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\n@prefix surveyreg-nz: <https://surveys-nz/> .\n\nsurveyreg-nz:DP-1-S2 a prov:Activity ;\n    prov:endedAtTime \"2029-01-01\" ;\n    prov:used <http://www.example.com/exampleActivity/Act3> ;\n    prov:wasAssociatedWith <linz-registered-surveyors:bc-3> .\n\n<http://www.example.com/exampleActivity/Act3> a prov:Entity ;\n    rdfs:seeAlso <https://some.gov/linktoact/> ;\n    prov:wasAttributedTo \"icsm-jurisdictions:nz\" .\n\n"}]}], "annotatedSchema": "$schema: https://json-schema.org/draft/2020-12/schema\ndescription: provenance chain\n$defs:\n  oneOrMoreActivitiesOrRefIds:\n    oneOf:\n    - type: string\n    - $ref: '#/$defs/Activity'\n    - type: array\n      items:\n        anyOf:\n        - type: string\n        - $ref: '#/$defs/Activity'\n  oneOrMoreEntitiesOrRefIds:\n    oneOf:\n    - type: string\n    - $ref: '#/$defs/Entity'\n    - type: array\n      items:\n        anyOf:\n        - type: string\n        - $ref: '#/$defs/Entity'\n  oneOrMoreAgentsOrRefIds:\n    oneOf:\n    - type: string\n    - $ref: '#/$defs/externalLink'\n    - $ref: '#/$defs/Agent'\n    - type: array\n      items:\n        anyOf:\n        - type: string\n        - $ref: '#/$defs/Agent'\n  externalLink:\n    $ref: https://opengeospatial.github.io/bblocks/annotated-schemas/ogc-utils/json-link/schema.json\n  Entity:\n    type: object\n    additionalProperties: false\n    properties:\n      '@context':\n        description: allow a local context to set URI bases for object Ids\n        type: object\n      id:\n        type: string\n        x-jsonld-id: '@id'\n      type:\n        type: string\n        const: Entity\n        x-jsonld-id: '@type'\n      provenance:\n        $ref: '#/$defs/Prov'\n        x-jsonld-id: http://www.w3.org/ns/prov-x#provenance\n        x-jsonld-type: '@id'\n        x-jsonld-container: '@set'\n      wasGeneratedBy:\n        $ref: '#/$defs/oneOrMoreActivitiesOrRefIds'\n        x-jsonld-type: '@id'\n        x-jsonld-id: http://www.w3.org/ns/prov#wasGeneratedBy\n      wasAttributedTo:\n        $ref: '#/$defs/oneOrMoreAgentsOrRefIds'\n        x-jsonld-id: http://www.w3.org/ns/prov#wasAttributedTo\n      wasDerivedFrom:\n        $ref: '#/$defs/oneOrMoreEntitiesOrRefIds'\n        x-jsonld-type: '@id'\n        x-jsonld-id: http://www.w3.org/ns/prov#wasDerivedFrom\n      links:\n        type: array\n        items:\n          $ref: '#/$defs/externalLink'\n        x-jsonld-id: http://www.w3.org/2000/01/rdf-schema#seeAlso\n    required:\n    - id\n    - type\n    anyOf:\n    - required:\n      - wasGeneratedBy\n    - required:\n      - wasAttributedTo\n    - required:\n      - wasDerivedFrom\n    - required:\n      - provenance\n  dateOrTime:\n    oneOf:\n    - type: string\n      format: date\n      pattern: ^\\d{4}-\\d{2}-\\d{2}$\n    - type: string\n      format: date-time\n      pattern: ^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:\\.\\d+)?(?:Z|[+-]\\d{2}:\\d{2})?$\n  Activity:\n    type: object\n    properties:\n      type:\n        type: string\n        const: Activity\n        x-jsonld-id: '@type'\n      endedAtTime:\n        $ref: '#/$defs/dateOrTime'\n        x-jsonld-id: http://www.w3.org/ns/prov#endedAtTime\n      wasAssociatedWith:\n        $ref: '#/$defs/oneOrMoreAgentsOrRefIds'\n        x-jsonld-type: '@id'\n        x-jsonld-id: http://www.w3.org/ns/prov#wasAssociatedWith\n      wasInformedBy:\n        $ref: '#/$defs/oneOrMoreActivitiesOrRefIds'\n        x-jsonld-id: http://www.w3.org/ns/prov#wasInformedBy\n      used:\n        $ref: '#/$defs/oneOrMoreEntitiesOrRefIds'\n        x-jsonld-type: '@id'\n        x-jsonld-id: http://www.w3.org/ns/prov#used\n    required:\n    - type\n    anyOf:\n    - required:\n      - used\n    - required:\n      - wasInformedBy\n    - required:\n      - endedAtTime\n    - required:\n      - startedAtTime\n    - required:\n      - wasAssociatedWith\n  Agent:\n    type: object\n    properties:\n      type:\n        type: string\n        const: Agent\n        x-jsonld-id: '@type'\n      name:\n        type: string\n        x-jsonld-id: http://xmlns.com/foaf/0.1/name\n      id:\n        type: string\n        format: uri\n        x-jsonld-id: '@id'\n      actedOnBehalfOf:\n        $ref: '#/$defs/oneOrMoreAgentsOrRefIds'\n        x-jsonld-id: http://www.w3.org/ns/prov#actedOnBehalfOf\n    required:\n    - name\n  Prov:\n    description: An list of provenance objects linked together to form a provenance\n      chain for the current object. Objects may have nested objects as well, with\n      or without referencable ids\n    type: array\n    items:\n      oneOf:\n      - $ref: '#/$defs/Entity'\n      - $ref: '#/$defs/Activity'\n      - $ref: '#/$defs/Agent'\nanyOf:\n- $ref: '#/$defs/Entity'\n- $ref: '#/$defs/Activity'\nx-jsonld-extra-terms:\n  survtypes-nz: https://surveytypes-nz/\n  surveyreg-nz: https://surveys-nz/\n  Entity:\n    x-jsonld-id: http://www.w3.org/ns/prov#Entity\n  Activity:\n    x-jsonld-id: http://www.w3.org/ns/prov#Activity\n  Agent:\n    x-jsonld-id: http://www.w3.org/ns/prov#Agent\nx-jsonld-prefixes:\n  prov: http://www.w3.org/ns/prov#\n  prov-x: http://www.w3.org/ns/prov-x#\n  foaf: http://xmlns.com/foaf/0.1/\n", "gitRepository": "https://github.com/ogcincubator/bblock-prov-schema"}