
{"name": "Provenance Chain", "abstract": "Schema for a provenance chain based on PROV vocabulary semantics, Agents, Activities and Entities. This schema is designed as a mix-in that can be used to add properties to other objects in a polymorphic way.", "status": "invalid", "dateTimeAddition": "2023-07-10T00:00:00Z", "itemClass": "schema", "register": "icsm-csdm", "version": "0.1", "dateOfLastChange": "2023-07-10", "link": "https://github.com/icsm-au/3d-csdm-schema", "sources": [], "maturity": "development", "scope": "unstable", "tags": ["prov", "utils"], "itemIdentifier": "ogc.ogc-utils.prov", "schema": {"application/yaml": "https://raw.githubusercontent.com/ogcincubator/bblock-prov-schema/master/build/annotated/ogc-utils/prov/schema.yaml", "application/json": "https://raw.githubusercontent.com/ogcincubator/bblock-prov-schema/master/build/annotated/ogc-utils/prov/schema.json"}, "ldContext": "https://raw.githubusercontent.com/ogcincubator/bblock-prov-schema/master/build/annotated/ogc-utils/prov/context.jsonld", "sourceFiles": "https://raw.githubusercontent.com/ogcincubator/bblock-prov-schema/master/_sources/", "validationPassed": false, "testOutputs": "https://github.com/ogcincubator/bblock-prov-schema/blob/master/build/tests/ogc-utils/prov/", "description": "## Provenance chain\n\nA schema defining objects that may be referenced or nested as a chain of activities.\n\nThis schema implements the PROV vocabulary semantics.\n\n", "examples": [{"title": "Example Topology object", "content": "See panel to right - note that a more user friendly \"collapsable\" version is in development. ", "snippets": [{"language": "json", "ref": "example.json", "base-uri": "http://www.example.com/prov/", "code": "{ \"@context\": {\n    \"@base\": \"https://example.org/\"},\n  \"id\": \"DP-1\",\n  \"type\": \"Entity\",\n\n  \"wasGeneratedBy\": [\n    \"surveyreg-nz:DP-1-S1\",\n    {\n      \"id\": \"surveyreg-nz:DP-1-S2\",\n      \"endedAtTime\": \"2029-01-01\",\n      \"wasAssociatedWith\": \"linz-registered-surveyors:bc-3\",\n      \"used\": {\n        \"wasAttributedTo\": \"icsm-jurisdictions:nz\",\n        \"link\": {\n          \"href\": \"https://some.gov/linktoact/\",\n          \"rel\": \"related\"\n        }\n      }\n    }\n  ],\n  \"provenance\":\n  [\n    {\n      \"id\": \"DP-2223\",\n      \"type\": \"Entity\",\n      \"wasGeneratedBy\": {\n        \"type\": \"Activity\",\n        \"id\": \"surveyreg-nz:DP-1-S1\",\n        \"endedAtTime\": \"2023-10-05\",\n        \"wasAssociatedWith\": \"linz-registered-surveyors:ah-2344503\",\n        \"used\": {\n          \"id\": \"Act3\",\n          \"type\": \"Entity\",\n          \"wasAttributedTo\": \"icsm-jurisdictions:nz\",\n          \"link\": {\n            \"href\": \"https://some.gov/linktoact/\",\n            \"rel\": \"related\"\n          }\n        }\n      }\n    },\n    {\n      \"id\": \"survprov-nz:survey\",\n      \"type\": \"Activity\",\n      \"endedAtTime\": \"2023-10-05\"\n    }\n  ]\n}\n\n\n\n"}]}], "annotatedSchema": "$schema: https://json-schema.org/draft/2020-12/schema\ndescription: provenance chain\n$defs:\n  oneOrMoreActivitiesOrRefIds:\n    oneOf:\n    - type: string\n    - $ref: '#/$defs/Activity'\n    - type: array\n      items:\n        anyOf:\n        - type: string\n        - $ref: '#/$defs/Activity'\n  oneOrMoreEntitiesOrRefIds:\n    oneOf:\n    - type: string\n    - $ref: '#/$defs/Entity'\n    - type: array\n      items:\n        anyOf:\n        - type: string\n        - $ref: '#/$defs/Entity'\n  oneOrMoreAgentsOrRefIds:\n    oneOf:\n    - type: string\n    - $ref: '#/$defs/externalLink'\n    - $ref: '#/$defs/Agent'\n    - type: array\n      items:\n        anyOf:\n        - type: string\n        - $ref: '#/$defs/Agent'\n  externalLink:\n    $ref: https://beta.schemas.opengis.net/json-fg/link.json\n  Entity:\n    type: object\n    additionalProperties: false\n    properties:\n      '@context':\n        description: allow a local context to set URI bases for object Ids\n        type: object\n      id:\n        type: string\n        x-jsonld-id: '@id'\n      type:\n        type: string\n        const: Entity\n        x-jsonld-id: '@type'\n      provenance:\n        $ref: '#/$defs/Prov'\n        x-jsonld-id: prov-x:provenance\n        x-jsonld-type: '@id'\n        x-jsonld-container: '@set'\n      wasGeneratedBy:\n        $ref: '#/$defs/oneOrMoreActivitiesOrRefIds'\n        x-jsonld-type: '@id'\n        x-jsonld-id: http://www.w3.org/ns/prov#wasGeneratedBy\n      wasAttributedTo:\n        $ref: '#/$defs/oneOrMoreAgentsOrRefIds'\n        x-jsonld-id: http://www.w3.org/ns/prov#wasAttributedTo\n      wasDerivedFrom:\n        $ref: '#/$defs/oneOrMoreEntitiesOrRefIds'\n        x-jsonld-type: '@id'\n        x-jsonld-id: http://www.w3.org/ns/prov#wasDerivedFrom\n      link:\n        $ref: '#/$defs/externalLink'\n        x-jsonld-id: http://www.w3.org/ns/prov#link\n    required:\n    - id\n    - type\n    anyOf:\n    - required:\n      - wasGeneratedBy\n    - required:\n      - wasAttributedTo\n    - required:\n      - wasDerivedFrom\n    - required:\n      - provenance\n  dateOrTime:\n    oneOf:\n    - type: string\n      format: date\n      pattern: ^\\d{4}-\\d{2}-\\d{2}$\n    - type: string\n      format: date-time\n      pattern: ^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(?:\\.\\d+)?(?:Z|[+-]\\d{2}:\\d{2})?$\n  Activity:\n    type: object\n    properties:\n      type:\n        type: string\n        const: Activity\n        x-jsonld-id: '@type'\n      endedAtTime:\n        $ref: '#/$defs/dateOrTime'\n        x-jsonld-id: http://www.w3.org/ns/prov#endedAtTime\n      wasAssociatedWith:\n        $ref: '#/$defs/oneOrMoreAgentsOrRefIds'\n        x-jsonld-type: '@id'\n        x-jsonld-id: http://www.w3.org/ns/prov#wasAssociatedWith\n      wasInformedBy:\n        $ref: '#/$defs/oneOrMoreActivitiesOrRefIds'\n        x-jsonld-id: http://www.w3.org/ns/prov#wasInformedBy\n      used:\n        $ref: '#/$defs/oneOrMoreEntitiesOrRefIds'\n        x-jsonld-type: '@id'\n        x-jsonld-id: http://www.w3.org/ns/prov#used\n    required:\n    - type\n    anyOf:\n    - required:\n      - used\n    - required:\n      - wasInformedBy\n    - required:\n      - endedAtTime\n    - required:\n      - startedAtTime\n    - required:\n      - wasAssociatedWith\n  Agent:\n    type: object\n    properties:\n      registeredName:\n        type: string\n        x-jsonld-id: http://xmlns.com/foaf/0.1/name\n      id:\n        type: string\n        format: uri\n        x-jsonld-id: '@id'\n      actedOnBehalfOf:\n        $ref: '#/$defs/oneOrMoreAgentsOrRefIds'\n        x-jsonld-id: http://www.w3.org/ns/prov#actedOnBehalfOf\n    required:\n    - registeredName\n  Prov:\n    description: An list of provenance objects linked together to form a provenance\n      chain for the current object. Objects may have nested objects as well, with\n      or without referencable ids\n    type: array\n    items:\n      oneOf:\n      - $ref: '#/$defs/Entity'\n      - $ref: '#/$defs/Activity'\n      - $ref: '#/$defs/Agent'\nanyOf:\n- $ref: '#/$defs/Entity'\n- $ref: '#/$defs/Activity'\nx-jsonld-extra-terms:\n  prov: http://www.w3.org/ns/prov#\n  survtypes-nz: https://surveytypes-nz/\n  surveyreg-nz: https://surveys-nz/\n  links:\n    x-jsonld-id: http://www.w3.org/2000/01/rdf-schema#seeAlso\n    x-jsonld-context:\n      href: '@id'\n      title: rdfs:label\nx-jsonld-prefixes:\n  foaf: http://xmlns.com/foaf/0.1/\n", "gitRepository": "https://github.com/ogcincubator/bblock-prov-schema"}